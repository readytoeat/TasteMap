<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ë§ˆì´í˜ì´ì§€</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
<style>
  body { font-family: 'Noto Sans KR', sans-serif; }
  .review-card, .comment-card { padding:10px; display:flex; flex-direction:column; gap:6px; width:100%; }
  .card-content { display:flex; align-items:flex-start; gap:12px; }
  .card-content img { width:80px; height:80px; border-radius:8px; object-fit:cover; flex-shrink:0; }
  .card-text { display:flex; flex-direction:column; gap:6px; flex:1; }
  .card-stars { display:flex; gap:4px; }
  .modal-bg { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); justify-content:center; align-items:center; z-index:50; }
  .modal-content { background:white; padding:20px; border-radius:12px; text-align:center; max-width:250px; position:relative; }
  .modal-content img { max-width:100%; border-radius:8px; }
  .close-btn { position:absolute; top:5px; right:8px; cursor:pointer; font-weight:bold; color:red; }
</style>
</head>
<body class="bg-gray-50 text-gray-800">

<header class="bg-white shadow-sm">
  <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
    <div>
      <a href="index.html" class="text-2xl font-bold text-yellow-500 hover:text-yellow-600 transition duration-300">í…Œì´ìŠ¤íŠ¸ ë§µ</a>
    </div>
    <div class="flex items-center space-x-6">
      <a href="community.html" class="text-gray-700 hover:text-yellow-500 transition duration-300 ease-in-out font-medium">ì»¤ë®¤ë‹ˆí‹°</a>
      <a href="mypage.html" class="text-gray-700 hover:text-yellow-500 transition duration-300 ease-in-out font-medium">ë§ˆì´í˜ì´ì§€</a>
      <a href="login.html" class="text-gray-700 hover:text-yellow-500 transition duration-300 ease-in-out font-medium">ë¡œê·¸ì¸</a>
    </div>
  </nav>
</header>

<main class="container mx-auto px-6 py-10">
<h1 class="text-3xl font-bold text-gray-800 mb-8">ë§ˆì´í˜ì´ì§€</h1>

<div class="border-b border-gray-200 mb-6">
  <nav class="flex space-x-6 flex-wrap">
    <button onclick="showTab('reviews')" id="tab-reviews" class="pb-2 border-b-2 border-yellow-500 text-yellow-600 font-semibold">ë‚´ê°€ ì“´ ë¦¬ë·°</button>
    <button onclick="showTab('comments')" id="tab-comments" class="pb-2 text-gray-500 hover:text-yellow-600">ë‚´ê°€ ì“´ ëŒ“ê¸€</button>
    <button onclick="showTab('rewards')" id="tab-rewards" class="pb-2 text-gray-500 hover:text-yellow-600">í¬ì¸íŠ¸ / ì¿ í°</button>
    <button onclick="showTab('bookmarks')" id="tab-bookmarks" class="pb-2 text-gray-500 hover:text-yellow-600">ë¶ë§ˆí¬</button>
    <button onclick="showTab('profile')" id="tab-profile" class="pb-2 text-gray-500 hover:text-yellow-600">ê°œì¸ì •ë³´ ìˆ˜ì •</button>
  </nav>
</div>

<!-- ë‚´ê°€ ì“´ ë¦¬ë·° -->
<div id="reviews" class="tab-content">
  <h2 class="text-xl font-bold mb-4">ë‚´ê°€ ì“´ ë¦¬ë·°</h2>
  <ul class="space-y-3">
    <li class="review-card bg-white shadow rounded-lg">
      <div class="card-content">
        <img src="https://via.placeholder.com/80" alt="ë¼ë©˜ ì‚¬ì§„">
        <div class="card-text">
          <p class="review-title font-semibold text-gray-700">ğŸœ ë¼ë©˜ì§‘ ë°©ë¬¸ê¸°</p>
          <p class="text-gray-700 review-text">ì •ë§ ë§›ìˆì—ˆì–´ìš”!</p>
          <div class="card-stars">
            <span class="star text-yellow-500" onclick="setStar(this,1)">â˜…</span>
            <span class="star text-yellow-500" onclick="setStar(this,2)">â˜…</span>
            <span class="star text-yellow-500" onclick="setStar(this,3)">â˜…</span>
            <span class="star text-gray-300" onclick="setStar(this,4)">â˜…</span>
            <span class="star text-gray-300" onclick="setStar(this,5)">â˜…</span>
          </div>
        </div>
      </div>
      <div class="flex justify-end space-x-2 mt-2">
        <button class="px-3 py-1 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition edit-btn">ìˆ˜ì •</button>
        <button class="px-3 py-1 bg-red-500 text-white rounded-lg hover:bg-red-600 transition delete-btn">ì‚­ì œ</button>
      </div>
    </li>
    <li class="review-card bg-white shadow rounded-lg">
      <div class="card-content">
        <img src="https://via.placeholder.com/80" alt="ì¹´í˜ ì‚¬ì§„">
        <div class="card-text">
          <p class="review-title font-semibold text-gray-700">â˜• ì¹´í˜ í›„ê¸°</p>
          <p class="text-gray-700 review-text">ë¶„ìœ„ê¸°ê°€ ë„ˆë¬´ ì¢‹ì•˜ì–´ìš”.</p>
          <div class="card-stars">
            <span class="star text-yellow-500" onclick="setStar(this,1)">â˜…</span>
            <span class="star text-yellow-500" onclick="setStar(this,2)">â˜…</span>
            <span class="star text-yellow-500" onclick="setStar(this,3)">â˜…</span>
            <span class="star text-gray-300" onclick="setStar(this,4)">â˜…</span>
            <span class="star text-gray-300" onclick="setStar(this,5)">â˜…</span>
          </div>
        </div>
      </div>
      <div class="flex justify-end space-x-2 mt-2">
        <button class="px-3 py-1 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition edit-btn">ìˆ˜ì •</button>
        <button class="px-3 py-1 bg-red-500 text-white rounded-lg hover:bg-red-600 transition delete-btn">ì‚­ì œ</button>
      </div>
    </li>
  </ul>
</div>

<!-- ë‚´ê°€ ì“´ ëŒ“ê¸€ -->
<div id="comments" class="tab-content hidden">
  <h2 class="text-xl font-bold mb-4">ë‚´ê°€ ì“´ ëŒ“ê¸€</h2>
  <ul class="space-y-3">
    <li class="comment-card bg-white shadow rounded-lg p-4">
      <div class="card-content">
        <img src="https://via.placeholder.com/80" alt="ë¼ë©˜ ì‚¬ì§„">
        <div class="card-text">
          <p class="text-gray-700 comment-text">ì €ë„ ì—¬ê¸° ê°€ë´¤ëŠ”ë° ì •ë§ ë§›ìˆì–´ìš”!</p>
        </div>
      </div>
      <div class="flex justify-end space-x-2 mt-2">
        <button class="px-3 py-1 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition edit-btn">ìˆ˜ì •</button>
        <button class="px-3 py-1 bg-red-500 text-white rounded-lg hover:bg-red-600 transition delete-btn">ì‚­ì œ</button>
      </div>
    </li>
    <li class="comment-card bg-white shadow rounded-lg p-4">
      <div class="card-content">
        <img src="https://via.placeholder.com/80" alt="ì¹´í˜ ì‚¬ì§„">
        <div class="card-text">
          <p class="text-gray-700 comment-text">ì»¤í”¼ ë§›ì´ ì •ë§ ì¢‹ë„¤ìš”!</p>
        </div>
      </div>
      <div class="flex justify-end space-x-2 mt-2">
        <button class="px-3 py-1 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition edit-btn">ìˆ˜ì •</button>
        <button class="px-3 py-1 bg-red-500 text-white rounded-lg hover:bg-red-600 transition delete-btn">ì‚­ì œ</button>
      </div>
    </li>
  </ul>
</div>

<!-- í¬ì¸íŠ¸ / ì¿ í° -->
<div id="rewards" class="tab-content hidden">
  <h2 class="text-xl font-bold mb-4">í¬ì¸íŠ¸ / ì¿ í°</h2>
  <div class="bg-white p-6 rounded-lg shadow mb-6">
    <h3 class="text-lg font-semibold mb-2">ë‚´ í¬ì¸íŠ¸</h3>
    <p class="text-2xl font-bold text-yellow-600">3,250 P</p>
    <p class="text-gray-500 text-sm mt-1">ë¦¬ë·° ì‘ì„± ì‹œ +100P, ëŒ“ê¸€ ì‘ì„± ì‹œ +20P</p>
  </div>

  <div class="bg-white p-6 rounded-lg shadow mb-4">
    <h3 class="text-lg font-semibold mb-2">ì‚¬ìš© ê°€ëŠ¥ ì¿ í°</h3>
    <ul class="space-y-3" id="available-coupons">
      <li class="flex justify-between items-center p-4 border rounded-lg">
        ğŸ” ë²„ê±°ì„¸íŠ¸ 20% í• ì¸
        <button onclick="useCoupon(this,'burger')" class="text-green-600 font-medium">ë³´ê¸°</button>
      </li>
      <li class="flex justify-between items-center p-4 border rounded-lg">
        â˜• ì•„ë©”ë¦¬ì¹´ë…¸ ë¬´ë£Œ ì¿ í°
        <button onclick="useCoupon(this,'coffee')" class="text-green-600 font-medium">ë³´ê¸°</button>
      </li>
      <li class="flex justify-between items-center p-4 border rounded-lg">
        ğŸ• í”¼ì 10% í• ì¸
        <button onclick="useCoupon(this,'pizza')" class="text-green-600 font-medium">ë³´ê¸°</button>
      </li>
    </ul>
  </div>

  <div class="bg-white p-6 rounded-lg shadow">
    <h3 class="text-lg font-semibold mb-2">ì‚¬ìš© ì™„ë£Œ ì¿ í°</h3>
    <ul class="space-y-3" id="used-coupons">
    </ul>
  </div>
</div>

<!-- ë¶ë§ˆí¬ -->
<div id="bookmarks" class="tab-content hidden">
  <h2 class="text-xl font-bold mb-4">ë¶ë§ˆí¬</h2>
  <ul class="space-y-4">
    <li class="p-4 bg-white shadow rounded-lg flex justify-between items-center">
      ğŸ• í”¼ì ë§›ì§‘
      <button class="px-2 py-1 bg-gray-200 rounded-lg hover:bg-gray-300">ğŸ”</button>
    </li>
    <li class="p-4 bg-white shadow rounded-lg flex justify-between items-center">
      ğŸœ ë¼ë©˜ ë§›ì§‘
      <button class="px-2 py-1 bg-gray-200 rounded-lg hover:bg-gray-300">ğŸ”</button>
    </li>
  </ul>
</div>

<!-- ê°œì¸ì •ë³´ ìˆ˜ì • -->
<div id="profile" class="tab-content hidden">
  <h2 class="text-xl font-bold mb-4">ê°œì¸ì •ë³´ ìˆ˜ì •</h2>
  <form class="space-y-6 bg-white p-6 rounded-lg shadow">
    <div>
      <label class="block mb-2 font-medium text-gray-700">í”„ë¡œí•„ ì‚¬ì§„</label>
      <input type="file" class="w-full border border-gray-300 rounded-lg p-2">
    </div>
    <div>
      <label class="block mb-2 font-medium text-gray-700">ë‹‰ë„¤ì„</label>
      <input type="text" placeholder="ë‹‰ë„¤ì„ ì…ë ¥" class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-yellow-400">
    </div>
    <div>
      <label class="block mb-2 font-medium text-gray-700">ì´ë©”ì¼</label>
      <input type="email" placeholder="ì´ë©”ì¼ ì…ë ¥" class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-yellow-400">
    </div>
    <div>
      <label class="block mb-2 font-medium text-gray-700">ë¹„ë°€ë²ˆí˜¸ ë³€ê²½</label>
      <input type="password" placeholder="í˜„ì¬ ë¹„ë°€ë²ˆí˜¸" class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-yellow-400 mb-2">
      <input type="password" placeholder="ìƒˆ ë¹„ë°€ë²ˆí˜¸" class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-yellow-400 mb-2">
      <input type="password" placeholder="ìƒˆ ë¹„ë°€ë²ˆí˜¸ í™•ì¸" class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-yellow-400">
    </div>
    <div class="flex justify-end">
      <button type="submit" class="px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition">ì €ì¥í•˜ê¸°</button>
    </div>
  </form>
</div>

<!-- ì¿ í° ëª¨ë‹¬ -->
<div id="coupon-modal" class="modal-bg">
  <div class="modal-content">
    <span id="close-modal" class="close-btn">âœ–</span>
    <div id="coupon-img"></div>
  </div>
</div>

<script>
// íƒ­ ì „í™˜
function showTab(tabId){
  document.querySelectorAll('.tab-content').forEach(el=>el.classList.add('hidden'));
  document.getElementById(tabId).classList.remove('hidden');

  document.querySelectorAll('nav button').forEach(btn=>{
    btn.classList.remove('border-yellow-500','text-yellow-600','font-semibold');
    btn.classList.add('text-gray-500');
  });
  document.getElementById('tab-'+tabId).classList.add('border-yellow-500','text-yellow-600','font-semibold');
}

// ë¦¬ë·° ë³„ì  í´ë¦­
function setStar(star, idx){
  const stars = star.parentNode.querySelectorAll('.star');
  stars.forEach((s,i)=>{
    s.classList.toggle('text-yellow-500',i<idx);
    s.classList.toggle('text-gray-300',i>=idx);
  });
}

// ì¿ í° ë³´ê¸°
function useCoupon(btn,type){
  const img = document.createElement('img');
  img.src = type==='burger'?'https://via.placeholder.com/200x150?text=ë²„ê±°ì¿ í°':type==='coffee'?'https://via.placeholder.com/200x150?text=ì»¤í”¼ì¿ í°':'https://via.placeholder.com/200x150?text=í”¼ìì¿ í°';
  const modal = document.getElementById('coupon-modal');
  const couponImg = document.getElementById('coupon-img');
  couponImg.innerHTML=''; couponImg.appendChild(img);
  modal.style.display='flex';
}

// ì¿ í° ëª¨ë‹¬ ë‹«ê¸°
document.getElementById('close-modal').addEventListener('click',()=>{document.getElementById('coupon-modal').style.display='none';});

// ë¦¬ë·°/ëŒ“ê¸€ ìˆ˜ì •
document.querySelectorAll('.edit-btn').forEach(btn=>{
  btn.addEventListener('click',()=>{
    const card = btn.closest('.review-card, .comment-card');
    const isReview = card.classList.contains('review-card');
    if(btn.innerText==='ìˆ˜ì •'){
      if(isReview){
        const titleP = card.querySelector('.review-title');
        const textP = card.querySelector('.review-text');
        const titleInput = document.createElement('input');
        titleInput.value = titleP.innerText;
        titleInput.className='w-full border border-gray-300 rounded-lg p-1';
        const textInput = document.createElement('textarea');
        textInput.value = textP.innerText;
        textInput.className='w-full border border-gray-300 rounded-lg p-1 mt-1';
        card.querySelector('.card-text').replaceChild(titleInput,titleP);
        card.querySelector('.card-text').replaceChild(textInput,textP);
      } else {
        const textP = card.querySelector('.comment-text');
        const textInput = document.createElement('textarea');
        textInput.value = textP.innerText;
        textInput.className='w-full border border-gray-300 rounded-lg p-1';
        card.querySelector('.card-text').replaceChild(textInput,textP);
      }
      btn.innerText='ì™„ë£Œ';
    } else {
      if(isReview){
        const titleInput = card.querySelector('input');
        const textInput = card.querySelector('textarea');
        const newTitle = document.createElement('p');
        newTitle.className='review-title font-semibold text-gray-700';
        newTitle.innerText = titleInput.value;
        const newText = document.createElement('p');
        newText.className='review-text text-gray-700';
        newText.innerText = textInput.value;
        card.querySelector('.card-text').replaceChild(newTitle,titleInput);
        card.querySelector('.card-text').replaceChild(newText,textInput);
      } else {
        const textInput = card.querySelector('textarea');
        const newText = document.createElement('p');
        newText.className='comment-text text-gray-700';
        newText.innerText = textInput.value;
        card.querySelector('.card-text').replaceChild(newText,textInput);
      }
      btn.innerText='ìˆ˜ì •';
    }
  });
});

// ë¦¬ë·°/ëŒ“ê¸€ ì‚­ì œ
document.querySelectorAll('.delete-btn').forEach(btn=>{
  btn.addEventListener('click',()=>{btn.closest('.review-card, .comment-card').remove();});
});
</script>
</body>
</html>
